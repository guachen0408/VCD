<Window x:Class="VacuumDryer.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="çœŸç©ºä¹¾ç‡¥æ©ŸæŽ§åˆ¶ç³»çµ± - VCD" 
        Height="768" Width="1280"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E2E">
    
    <Window.Resources>
        <!-- çµ±ä¸€æŒ‰éˆ•æ¨£å¼ -->
        <Style x:Key="SideButton" TargetType="Button">
            <Setter Property="Height" Value="44"/>
            <Setter Property="Margin" Value="0,3"/>
            <Setter Property="Padding" Value="15,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Background" Value="#2D2D44"/>
            <Setter Property="Foreground" Value="#CDD6F4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#45475A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#585B70"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- å¼·èª¿æŒ‰éˆ• -->
        <Style x:Key="AccentButton" TargetType="Button" BasedOn="{StaticResource SideButton}">
            <Setter Property="Background" Value="#89B4FA"/>
            <Setter Property="Foreground" Value="#1E1E2E"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#B4D0FB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- å±éšªæŒ‰éˆ• -->
        <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource SideButton}">
            <Setter Property="Background" Value="#F38BA8"/>
            <Setter Property="Foreground" Value="#1E1E2E"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#F5A3B8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- å¡ç‰‡å®¹å™¨ -->
        <Style x:Key="Card" TargetType="Border">
            <Setter Property="Background" Value="#313244"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="15"/>
        </Style>

        <!-- åˆ†é æŒ‰éˆ•æ¨£å¼ -->
        <Style x:Key="TabButton" TargetType="Border">
            <Setter Property="Padding" Value="18,8"/>
            <Setter Property="CornerRadius" Value="8,8,0,0"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <!-- æ•¸å€¼é¡¯ç¤º -->
        <Style x:Key="ValueDisplay" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#CDD6F4"/>
        </Style>
        
        <!-- æ¨™ç±¤æ–‡å­— -->
        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#A6ADC8"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
        
        <!-- æµç¨‹æ­¥é©ŸæŒ‡ç¤ºç‡ˆ -->
        <Style x:Key="StepIndicator" TargetType="Border">
            <Setter Property="Background" Value="#45475A"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="64"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="36"/>
        </Grid.RowDefinitions>
        
        <!-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— -->
        <!-- â•‘ é ‚éƒ¨æ¨™é¡Œåˆ—                        â•‘ -->
        <!-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Border Grid.Row="0" Background="#181825">
            <Grid Margin="15,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Logo -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Background="Transparent" Padding="3" Margin="0,0,10,0">
                        <Image Source="pack://application:,,,/Images/usun_logo.png" Height="38" VerticalAlignment="Center"/>
                    </Border>
                    <TextBlock Text="VCD" FontSize="18" FontWeight="Bold" Foreground="#89B4FA" 
                               VerticalAlignment="Center" Margin="5,0,0,0"/>
                </StackPanel>
                
                <!-- æ©Ÿå°ç‹€æ…‹ (ä¸­å¤®) -->
                <Border Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"
                        CornerRadius="20" Padding="35,8">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#FAB387" Offset="0"/>
                            <GradientStop Color="#F9E2AF" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <TextBlock x:Name="MachineStatus" Text="æ‰‹å‹•å¾…æ©Ÿä¸­" 
                               FontSize="18" FontWeight="Bold" Foreground="#1E1E2E"/>
                </Border>
                
                <!-- ä½¿ç”¨è€…è³‡è¨Š -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
                    <Border Background="#45475A" CornerRadius="15" Padding="12,5" Margin="3,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ‘¤" FontSize="12" Margin="0,0,5,0"/>
                            <TextBlock Text="Operator" Foreground="#BAC2DE" FontSize="12" VerticalAlignment="Center"/>
                            <TextBlock x:Name="UserLevel" Text="  Lv.0" Foreground="#89B4FA" FontSize="12" 
                                       FontWeight="Bold" VerticalAlignment="Center" Margin="5,0,0,0"/>
                        </StackPanel>
                    </Border>
                    
                    <Border Background="#45475A" CornerRadius="15" Padding="10,5" Margin="3,0">
                        <TextBlock x:Name="ManualModeText" Text="ðŸ”§ æ‰‹å‹•" Foreground="#A6E3A1" FontSize="12"/>
                    </Border>
                    <Border x:Name="AutoModeBorder" Background="#A6E3A1" CornerRadius="15" Padding="10,5" Margin="3,0">
                        <TextBlock Text="âš¡ è‡ªå‹•" Foreground="#1E1E2E" FontSize="12" FontWeight="SemiBold"/>
                    </Border>
                </StackPanel>
                
                <!-- æ™‚é–“ -->
                <TextBlock Grid.Column="3" x:Name="HeaderTime" Foreground="#6C7086" FontSize="12" 
                           VerticalAlignment="Center" FontFamily="Consolas"/>
            </Grid>
        </Border>
        
        <!-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— -->
        <!-- â•‘ ä¸»å…§å®¹å€                          â•‘ -->
        <!-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="160"/>
            </Grid.ColumnDefinitions>
            
            <!-- ===== å·¦å´ä¸»è¦å€åŸŸ ===== -->
            <Grid Grid.Column="0" Margin="0,0,10,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- åˆ†é æ¨™ç±¤ -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,0">
                    <Border x:Name="TabMain" Style="{StaticResource TabButton}" Background="#313244"
                            MouseDown="TabMain_Click">
                        <TextBlock Text="ðŸ“Š ä¸»é é¢" Foreground="#CDD6F4" FontWeight="SemiBold"/>
                    </Border>
                    <Border x:Name="TabChart" Style="{StaticResource TabButton}" Background="#1E1E2E"
                            MouseDown="TabChart_Click">
                        <TextBlock Text="ðŸ“ˆ åœ–è¡¨" Foreground="#6C7086"/>
                    </Border>
                    <Border x:Name="TabAlarm" Style="{StaticResource TabButton}" Background="#1E1E2E"
                            MouseDown="TabAlarm_Click">
                        <TextBlock Text="âš ï¸ ç•°å¸¸" Foreground="#6C7086"/>
                    </Border>
                </StackPanel>
                
                <!-- å…§å®¹å€åŸŸ -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="290"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="190"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- â–Žå·¦æ¬„: æµç¨‹è³‡è¨Š + é€£ç·š -->
                    <Grid Grid.Column="0" Margin="0,0,8,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- æµç¨‹æ—¥èªŒ -->
                        <Border Grid.Row="0" Style="{StaticResource Card}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Text="ðŸ“‹ æµç¨‹ç´€éŒ„" FontSize="14" FontWeight="SemiBold" 
                                           Foreground="#CDD6F4" Margin="0,0,0,10"/>
                                
                                <!-- æ¨™é¡Œåˆ— -->
                                <Border Grid.Row="1" Background="#45475A" CornerRadius="6" Padding="8,5" Margin="0,0,0,5">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="70"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="æ™‚é–“" Foreground="#A6ADC8" FontWeight="SemiBold" FontSize="11"/>
                                        <TextBlock Grid.Column="1" Text="å‹•ä½œ" Foreground="#A6ADC8" FontWeight="SemiBold" FontSize="11"/>
                                    </Grid>
                                </Border>
                                
                                <!-- æ—¥èªŒåˆ—è¡¨ -->
                                <ListBox Grid.Row="2" x:Name="ProcessLog" BorderThickness="0" 
                                         Background="Transparent" Foreground="#BAC2DE" FontSize="11">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding}" FontSize="11" Foreground="#BAC2DE"/>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                            </Grid>
                        </Border>
                        
                        <!-- é€£ç·šç‹€æ…‹ -->
                        <Border Grid.Row="1" Style="{StaticResource Card}" Margin="0,8,0,0">
                            <StackPanel>
                                <TextBlock Text="ðŸ”— é€£ç·šç‹€æ…‹" FontSize="12" FontWeight="SemiBold" 
                                           Foreground="#CDD6F4" Margin="0,0,0,8"/>
                                <StackPanel Orientation="Horizontal">
                                    <Border Background="#45475A" CornerRadius="12" Padding="10,4" Margin="0,0,5,0">
                                        <TextBlock Text="ä¸ŠæŽ§" FontSize="11" Foreground="#A6ADC8"/>
                                    </Border>
                                    <Border x:Name="ConnectionStatus" Background="#F38BA8" CornerRadius="12" Padding="10,4">
                                        <TextBlock Text="â— æœªé€£ç·š" Foreground="#1E1E2E" FontSize="11" FontWeight="SemiBold"/>
                                    </Border>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </Grid>
                    
                    <!-- â–Žä¸­æ¬„: ä¸»å…§å®¹ -->
                    <Border Grid.Column="1" Style="{StaticResource Card}" Margin="0">
                        <Grid>
                            <!-- ===== ä¸»é é¢ ===== -->
                            <Grid x:Name="MainView" Visibility="Visible">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- æµç¨‹è³‡è¨Šé¢æ¿ -->
                                <Border Background="#45475A" CornerRadius="10" Padding="15" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Margin="5">
                                            <TextBlock Style="{StaticResource LabelText}" Text="ç•¶å‰æ­¥é©Ÿ"/>
                                            <TextBlock x:Name="CurrentStepText" Text="å¾…æ©Ÿ" FontSize="20" 
                                                       FontWeight="Bold" Foreground="#A6E3A1" Margin="0,5"/>
                                            <TextBlock Style="{StaticResource LabelText}" Text="ç¶“éŽæ™‚é–“" Margin="0,12,0,0"/>
                                            <TextBlock x:Name="StepTimeText" Text="00:00" 
                                                       Style="{StaticResource ValueDisplay}" Margin="0,5"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Margin="5">
                                            <TextBlock Style="{StaticResource LabelText}" Text="ç›®æ¨™å£“åŠ›"/>
                                            <TextBlock x:Name="TargetPressureText" Text="-" FontSize="20" 
                                                       FontWeight="Bold" Foreground="#F9E2AF" Margin="0,5"/>
                                            <TextBlock Style="{StaticResource LabelText}" Text="å‰©é¤˜æ™‚é–“" Margin="0,12,0,0"/>
                                            <TextBlock x:Name="RemainingTimeText" Text="-" 
                                                       Style="{StaticResource ValueDisplay}" Margin="0,5"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                
                                <!-- æ©Ÿå°ç¤ºæ„åœ– -->
                                <Canvas Grid.Row="1" x:Name="MachineCanvas">
                                    <!-- Pump -->
                                    <Border Canvas.Left="20" Canvas.Top="80" Background="#89B4FA" 
                                            CornerRadius="8" Padding="18,10">
                                        <TextBlock Text="ðŸ”„ Pump" Foreground="#1E1E2E" FontWeight="Bold" FontSize="13"/>
                                    </Border>
                                    
                                    <!-- è¶é–¥è§’åº¦ -->
                                    <Border Canvas.Left="120" Canvas.Top="40" Background="#45475A" 
                                            CornerRadius="8" Padding="12,8">
                                        <StackPanel>
                                            <TextBlock Text="è¶é–¥è§’åº¦" FontSize="10" Foreground="#A6ADC8" Margin="0,0,0,3"/>
                                            <TextBlock x:Name="ValveAngle" Text="0.000Â°" FontFamily="Consolas" 
                                                       FontSize="18" FontWeight="Bold" Foreground="#F9E2AF"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- Chamber ä½ç½® -->
                                    <Border Canvas.Left="240" Canvas.Top="160" Background="#45475A" 
                                            CornerRadius="8" Padding="12,8">
                                        <StackPanel>
                                            <TextBlock Text="Chamber ä½ç½®" FontSize="10" Foreground="#A6ADC8" Margin="0,0,0,3"/>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock x:Name="ChamberPosition" Text="0.000" FontFamily="Consolas" 
                                                           FontSize="18" FontWeight="Bold" Foreground="#89B4FA"/>
                                                <TextBlock Text=" mm" FontSize="12" Foreground="#6C7086" VerticalAlignment="Bottom" Margin="0,0,0,2"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- N2 -->
                                    <Border Canvas.Right="20" Canvas.Top="80" Background="#A6E3A1" 
                                            CornerRadius="8" Padding="15,8">
                                        <TextBlock Text="Nâ‚‚" FontSize="18" FontWeight="Bold" Foreground="#1E1E2E"/>
                                    </Border>
                                </Canvas>
                            </Grid>

                            <!-- ===== åœ–è¡¨é é¢ ===== -->
                            <Grid x:Name="ChartView" Visibility="Hidden">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <!-- æµç¨‹æ­¥é©ŸæŒ‡ç¤ºç‡ˆ -->
                                <Border Background="#45475A" CornerRadius="10" Padding="10" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="æµç¨‹æ­¥é©Ÿ" FontSize="12" FontWeight="SemiBold" 
                                                   Foreground="#CDD6F4" Margin="0,0,0,8"/>
                                        <UniformGrid Rows="2" Columns="5">
                                            <Border x:Name="StepCloseChamber" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="1. é—œè…”" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepRoughVacuum" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="2. ç²—æŠ½" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHighVacuum1" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="3. ç´°æŠ½I" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHighVacuum2" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="4. ç´°æŠ½II" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHighVacuum3" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="5. ç´°æŠ½III" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHighVacuum4" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="6. ç´°æŠ½IV" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHighVacuum5" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="7. ç´°æŠ½V" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepHoldPressure" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="8. æŒå£“" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepVacuumBreak" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="9. ç ´çœŸç©º" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                            <Border x:Name="StepOpenChamber" Style="{StaticResource StepIndicator}">
                                                <TextBlock Text="10. é–‹è…”" FontSize="11" Foreground="#BAC2DE" TextAlignment="Center"/>
                                            </Border>
                                        </UniformGrid>
                                    </StackPanel>
                                </Border>
                                
                                <!-- å£“åŠ›æ›²ç·š -->
                                <Border Grid.Row="1" Background="#45475A" CornerRadius="10" Padding="10">
                                    <Grid>
                                        <TextBlock Text="çœŸç©ºå£“åŠ›æ›²ç·š" FontSize="12" FontWeight="SemiBold" 
                                                   Foreground="#CDD6F4" Margin="5"/>
                                        <Canvas x:Name="VacuumChartCanvas" Margin="0,25,0,0">
                                            <Line X1="0" Y1="50" X2="1000" Y2="50" Stroke="#585B70" StrokeThickness="1"/>
                                            <Line X1="0" Y1="100" X2="1000" Y2="100" Stroke="#585B70" StrokeThickness="1"/>
                                            <Line X1="0" Y1="150" X2="1000" Y2="150" Stroke="#585B70" StrokeThickness="1"/>
                                            <Polyline Points="0,200 50,180 100,100 150,50 200,20 250,10 300,5 350,5 400,100 450,200" 
                                                      Stroke="#89B4FA" StrokeThickness="2.5"/>
                                            <TextBlock Canvas.Left="10" Canvas.Top="10" Text="ç¤ºæ„åœ– (åŠŸèƒ½é–‹ç™¼ä¸­)" Foreground="#6C7086"/>
                                        </Canvas>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Grid>
                    </Border>
                    
                    <!-- â–Žå³æ¬„: å£“åŠ›éŒ¶ -->
                    <Grid Grid.Column="2" Margin="8,0,0,0">
                        <Border Style="{StaticResource Card}">
                            <StackPanel>
                                <TextBlock Text="ðŸ“ å£“åŠ›æ„Ÿæ¸¬" FontSize="14" FontWeight="SemiBold" 
                                           Foreground="#CDD6F4" Margin="0,0,0,12"/>
                                
                                <!-- å£“åŠ›å€¼å¡ç‰‡ -->
                                <Border Background="#45475A" CornerRadius="8" Padding="10,8" Margin="0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="30"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="SMC" Foreground="#A6ADC8" FontSize="11" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="0.0" Foreground="#CDD6F4" FontFamily="Consolas" 
                                                   FontSize="14" FontWeight="Bold" TextAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="Pa" Foreground="#6C7086" FontSize="10" 
                                                   VerticalAlignment="Center" Margin="5,0,0,0"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#45475A" CornerRadius="8" Padding="10,8" Margin="0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="30"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="TPR" Foreground="#A6ADC8" FontSize="11" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="0.0" Foreground="#CDD6F4" FontFamily="Consolas" 
                                                   FontSize="14" FontWeight="Bold" TextAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="Pa" Foreground="#6C7086" FontSize="10" 
                                                   VerticalAlignment="Center" Margin="5,0,0,0"/>
                                    </Grid>
                                </Border>
                                
                                <!-- ç›®å‰å£“åŠ› (å¼·èª¿) -->
                                <Border CornerRadius="8" Padding="10,10" Margin="0,8,0,4">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#89B4FA" Offset="0"/>
                                            <GradientStop Color="#74C7EC" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <StackPanel>
                                        <TextBlock Text="ç›®å‰å£“åŠ›" Foreground="#1E1E2E" FontSize="11" FontWeight="SemiBold"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,3,0,0">
                                            <TextBlock x:Name="CurrentPressure" Text="101325" Foreground="#1E1E2E" 
                                                       FontFamily="Consolas" FontSize="20" FontWeight="Bold"/>
                                            <TextBlock Text=" Pa" Foreground="#313244" FontSize="12" 
                                                       VerticalAlignment="Bottom" Margin="0,0,0,3"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <Border Background="#45475A" CornerRadius="8" Padding="10,8" Margin="0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="30"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="CDA" Foreground="#A6ADC8" FontSize="11" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="0.0000" Foreground="#CDD6F4" FontFamily="Consolas" 
                                                   FontSize="14" FontWeight="Bold" TextAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="KPa" Foreground="#6C7086" FontSize="10" 
                                                   VerticalAlignment="Center" Margin="3,0,0,0"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#45475A" CornerRadius="8" Padding="10,8" Margin="0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="30"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Nâ‚‚" Foreground="#A6ADC8" FontSize="11" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="0.0000" Foreground="#CDD6F4" FontFamily="Consolas" 
                                                   FontSize="14" FontWeight="Bold" TextAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="KPa" Foreground="#6C7086" FontSize="10" 
                                                   VerticalAlignment="Center" Margin="3,0,0,0"/>
                                    </Grid>
                                </Border>
                                
                                <Border Background="#45475A" CornerRadius="8" Padding="10,8" Margin="0,4">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="30"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="æŒå£“é–¥" Foreground="#A6ADC8" FontSize="10" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="0.0000" Foreground="#CDD6F4" FontFamily="Consolas" 
                                                   FontSize="14" FontWeight="Bold" TextAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="KPa" Foreground="#6C7086" FontSize="10" 
                                                   VerticalAlignment="Center" Margin="3,0,0,0"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
            
            <!-- ===== å³å´æ“ä½œé¢æ¿ ===== -->
            <Border Grid.Column="1" Style="{StaticResource Card}" Margin="0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Text="æ“ä½œé¢æ¿" FontSize="14" FontWeight="SemiBold" 
                               Foreground="#CDD6F4" Margin="0,0,0,10"/>
                    
                    <!-- åŠŸèƒ½æŒ‰éˆ• -->
                    <Button Grid.Row="1" Content="ðŸ”“  ç™»å…¥" Style="{StaticResource SideButton}" Click="Login_Click"/>
                    <Button Grid.Row="2" x:Name="SettingsButton" Content="âš™ï¸  è¨­å®š" Style="{StaticResource SideButton}" Click="Settings_Click">
                        <Button.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="ðŸ“‹ è£½ç¨‹åƒæ•¸è¨­å®š" Click="RecipeSettings_Click"/>
                                <MenuItem Header="ðŸ”§ æ©Ÿå°åƒæ•¸è¨­å®š" Click="MachineSettings_Click"/>
                            </ContextMenu>
                        </Button.ContextMenu>
                    </Button>
                    <Button Grid.Row="3" Content="ðŸŽ®  æ‰‹å‹•" Style="{StaticResource SideButton}" Click="ManualControl_Click"/>
                    <Button Grid.Row="4" Content="ðŸ“Š  ç´€éŒ„" Style="{StaticResource SideButton}" Click="Records_Click"/>
                    
                    <!-- Substrate ID -->
                    <StackPanel Grid.Row="5" Margin="0,12,0,0">
                        <TextBlock Text="Substrate ID" Foreground="#A6ADC8" FontSize="11" Margin="0,0,0,4"/>
                        <TextBox x:Name="SubstrateId" Height="30" Background="#45475A" Foreground="#CDD6F4" 
                                 BorderBrush="#585B70" BorderThickness="1" Padding="8,5" FontSize="12"/>
                    </StackPanel>
                    
                    <!-- æŽ§åˆ¶æŒ‰éˆ• -->
                    <Button Grid.Row="7" Style="{StaticResource DangerButton}" Click="Home_Click" Margin="0,8,0,3">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ " FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="åŽŸé»žå¾©æ­¸" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                    
                    <Button Grid.Row="8" x:Name="StartButton" Style="{StaticResource AccentButton}" Click="Start_Click" Margin="0,3">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="â–¶" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="é–‹å§‹" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                    
                    <Button Grid.Row="9" x:Name="PauseButton" Click="Pause_Click" Margin="0,3"
                            Height="44" Padding="15,0" HorizontalContentAlignment="Center"
                            Background="#F9E2AF" Foreground="#1E1E2E" BorderThickness="0" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="{TemplateBinding Background}" 
                                        CornerRadius="8" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#F5D98A"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="â¸" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="æš«åœ" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                    
                    <Button Grid.Row="10" Style="{StaticResource DangerButton}" Click="Exit_Click" Margin="0,15,0,3">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸšª" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="é›¢é–‹" FontWeight="Bold"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>
        </Grid>
        
        <!-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— -->
        <!-- â•‘ ç‹€æ…‹åˆ—                            â•‘ -->
        <!-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Border Grid.Row="2" Background="#11111B" Padding="15,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Border Background="#A6E3A1" CornerRadius="3" Padding="8,2" VerticalAlignment="Center">
                    <TextBlock Text="READY" FontSize="10" FontWeight="Bold" Foreground="#1E1E2E"/>
                </Border>
                
                <TextBlock Grid.Column="1" x:Name="StatusText" Text="ç³»çµ±å°±ç·’" Foreground="#A6ADC8" 
                           VerticalAlignment="Center" Margin="10,0" FontSize="12"/>
                <TextBlock Grid.Column="2" x:Name="TimeText" Foreground="#6C7086" VerticalAlignment="Center" 
                           FontFamily="Consolas" FontSize="12"/>
            </Grid>
        </Border>
    </Grid>
</Window>
